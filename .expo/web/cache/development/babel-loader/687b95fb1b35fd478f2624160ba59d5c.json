{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\dani1\\\\Desktop\\\\apptivate\\\\src\\\\components\\\\cards\\\\ExerciseRoutine.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport firebase from \"../../../database/firebase\";\nimport Download from \"@expo/vector-icons/Ionicons\";\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nimport { Video } from \"expo-av\";\n\nvar _require = require(\"react-native-expo-viewport-units\"),\n    vmin = _require.vmin;\n\nimport { connect } from \"react-redux\";\nimport { actionsDownload } from \"../../redux/actions/actionsDownload\";\nimport * as FileSystem from \"expo-file-system\";\nimport ChargeScreen from \"../Simple/ChargeScreen\";\n\nvar ExerciseRoutine = function ExerciseRoutine(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      information = _useState2[0],\n      setInformation = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      CurrentInformation = _useState4[0],\n      setCurrentInformation = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      exists = _useState8[0],\n      setExistence = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      pending = _useState10[0],\n      setPending = _useState10[1];\n\n  var video = React.useRef(null);\n  var protocol = [{\n    title: \"Fase Preprotésica\",\n    key: \"preprotesico\"\n  }, {\n    title: \"Fase Protésica\",\n    key: \"protesico\"\n  }];\n\n  var getProtocol = function getProtocol() {\n    var passed, list, level;\n    return _regeneratorRuntime.async(function getProtocol$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            passed = 0;\n            list = [];\n            level = protocol[CurrentInformation].key;\n\n            if (!(props.connection && information.length !== 14)) {\n              _context3.next = 8;\n              break;\n            }\n\n            _context3.next = 6;\n            return _regeneratorRuntime.awrap(firebase.db.collection(\"protocol\").doc(level).get().then(function (element) {\n              var data = element.data();\n              var otherList = Object.values(data).map(function _callee2(element, index) {\n                var trainingPhase, info, temp, promises, finished;\n                return _regeneratorRuntime.async(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        trainingPhase = props.user.information.control === undefined ? \"\" : props.user.information.control.trainingPhase && props.user.information.control.trainingPhase !== \"\" ? props.user.information.control.trainingPhase : \"\";\n\n                        if (!(element.refs.length > 0)) {\n                          _context2.next = 10;\n                          break;\n                        }\n\n                        info = [];\n                        temp = {\n                          title: element.title,\n                          phase: element.phase,\n                          setup: element.setup,\n                          order: element.order,\n                          exercises: []\n                        };\n                        promises = element.refs.map(function _callee(ref, index) {\n                          return _regeneratorRuntime.async(function _callee$(_context) {\n                            while (1) {\n                              switch (_context.prev = _context.next) {\n                                case 0:\n                                  _context.next = 2;\n                                  return _regeneratorRuntime.awrap(ref.get().then(function (res) {\n                                    info.push(res.data());\n                                  }));\n\n                                case 2:\n                                  return _context.abrupt(\"return\", info);\n\n                                case 3:\n                                case \"end\":\n                                  return _context.stop();\n                              }\n                            }\n                          }, null, null, null, Promise);\n                        });\n                        _context2.next = 7;\n                        return _regeneratorRuntime.awrap(Promise.all(promises).then(function (finished) {\n                          temp.exercises = finished[0];\n                          temp.phase === \"\" || temp.phase === trainingPhase ? list.push(temp) : console.log(\"passed\");\n                          console.warn(\"passed----\", passed, \" | \", list.length);\n\n                          if (trainingPhase === \"\" && list.length === 3 || trainingPhase === \"Avanzada\" && list.length === 7 - passed || trainingPhase === \"Intermedia\" && list.length === 6 - passed || trainingPhase === \"Inicial\" && list.length === 6 - passed) {\n                            console.log(\"exercise list---- \", list);\n                            list.sort(function (a, b) {\n                              return a.order - b.order;\n                            });\n                            setInformation(list);\n                          }\n                        }));\n\n                      case 7:\n                        finished = _context2.sent;\n                        _context2.next = 11;\n                        break;\n\n                      case 10:\n                        if (trainingPhase === \"\" || trainingPhase === element.phase) {\n                          passed++;\n                        }\n\n                      case 11:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              });\n            }).catch(function (e) {\n              console.log(\"El error es \", e);\n            }));\n\n          case 6:\n            _context3.next = 9;\n            break;\n\n          case 8:\n            if (!props.connection) {\n              setInformation(props.ExerciseRoutine);\n            }\n\n          case 9:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getUrls = function getUrls(items) {\n    var urlList = [];\n    items.forEach(function (element) {\n      urlList.push(element.gif);\n    });\n    return urlList;\n  };\n\n  var getAudioUrls = function getAudioUrls(items) {\n    var urlList = [];\n    items.forEach(function (element) {\n      console.warn(\"voz====\", items);\n      urlList.push(element.voz);\n    });\n    return urlList;\n  };\n\n  useEffect(function () {\n    var mounted = true;\n\n    if (mounted && information !== [] && loading) {\n      console.warn(\"entreed\");\n      getProtocol().then(function () {\n        return loading ? setLoading(false) : console.log(\"\");\n      });\n    } else {\n      console.warn(\"info----- eff---\", information);\n    }\n\n    return function () {\n      mounted = false;\n    };\n  }, [CurrentInformation]);\n\n  var NavigationButton = function NavigationButton() {\n    return React.createElement(View, {\n      style: navigationStyles.containerNavigationButton,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 7\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        setLoading(true);\n\n        if (CurrentInformation - 1 >= 0) {\n          setCurrentInformation(CurrentInformation - 1);\n        } else if (CurrentInformation === 0) {\n          setCurrentInformation(1);\n        }\n      },\n      style: navigationStyles.sideButton,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: [navigationStyles.whiteText, {\n        fontSize: vmin(5)\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }\n    }, \"<\")), React.createElement(View, {\n      style: navigationStyles.navigationButtonText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: navigationStyles.whiteText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    }, protocol[CurrentInformation].title)), React.createElement(TouchableOpacity, {\n      style: navigationStyles.sideButton,\n      onPress: function onPress() {\n        setLoading(true);\n\n        if (CurrentInformation + 1 < protocol.length) {\n          setCurrentInformation(CurrentInformation + 1);\n        } else if (CurrentInformation === 1) {\n          setCurrentInformation(0);\n        }\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: [navigationStyles.whiteText, {\n        fontSize: vmin(5)\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }\n    }, \">\")));\n  };\n\n  var downloadSection = function downloadSection(_ref) {\n    var sectionIndex, title, title2, urls, audioUrls, items;\n    return _regeneratorRuntime.async(function downloadSection$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            sectionIndex = _ref.sectionIndex, title = _ref.title, title2 = _ref.title2;\n            urls = getUrls(information[sectionIndex].exercises);\n            audioUrls = getAudioUrls(information[sectionIndex].exercises);\n            items = _toConsumableArray(information);\n            title2 = title2 === \"title2\" ? \"\" : title2;\n            console.warn(\"item---\", items);\n            _context5.next = 8;\n            return _regeneratorRuntime.awrap(Promise.all(urls.map(function _callee3(element, index) {\n              var fileUri, audioUri, downloadedFile, downloadedFile1, item;\n              return _regeneratorRuntime.async(function _callee3$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      console.warn(\"url---\", element);\n                      fileUri = \"\" + FileSystem.documentDirectory + (title + title2 + index);\n                      console.warn(\"uri---\", fileUri);\n                      audioUri = \"\" + FileSystem.documentDirectory + (title + title2 + \"Audio\" + index);\n                      _context4.next = 6;\n                      return _regeneratorRuntime.awrap(FileSystem.downloadAsync(element, fileUri));\n\n                    case 6:\n                      downloadedFile = _context4.sent;\n\n                      if (!(audioUrls[index].length > 25)) {\n                        _context4.next = 14;\n                        break;\n                      }\n\n                      console.warn(\"passed file download\", audioUrls[index]);\n                      _context4.next = 11;\n                      return _regeneratorRuntime.awrap(FileSystem.downloadAsync(audioUrls[index], audioUri));\n\n                    case 11:\n                      downloadedFile1 = _context4.sent;\n                      _context4.next = 15;\n                      break;\n\n                    case 14:\n                      audioUri = \"\";\n\n                    case 15:\n                      item = _objectSpread(_objectSpread({}, items[sectionIndex].exercises[index]), {}, {\n                        voz: audioUri,\n                        gif: fileUri\n                      });\n                      console.warn(\"downloaded all----\", item);\n                      items[sectionIndex].exercises[index] = item;\n                      setInformation(items);\n\n                    case 19:\n                    case \"end\":\n                      return _context4.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            })).then(function () {\n              if (!props.previusIdentifiers.includes(title + title2)) {\n                var sectionToSave = information[sectionIndex];\n                console.warn(\"section---\", information[sectionIndex]);\n                props.addItemToExerciseRoutine({\n                  newExercise: sectionToSave,\n                  title: title,\n                  title2: title2\n                });\n              }\n\n              setExistence(!exists);\n            }).catch(function (e) {\n              console.warn(\"promise all download---\", e);\n            }));\n\n          case 8:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var deleteMultimedia = function deleteMultimedia(uri) {\n    return _regeneratorRuntime.async(function deleteMultimedia$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return _regeneratorRuntime.awrap(FileSystem.deleteAsync(uri));\n\n          case 3:\n            _context6.next = 8;\n            break;\n\n          case 5:\n            _context6.prev = 5;\n            _context6.t0 = _context6[\"catch\"](0);\n            console.log(_context6.t0);\n\n          case 8:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var deleteInformation = function deleteInformation(sectionIndex, order, title, title2) {\n    console.warn(\"exercise routine--\", props.ExerciseRoutine[sectionIndex]);\n    props.ExerciseRoutine.forEach(function _callee5(phase, index) {\n      return _regeneratorRuntime.async(function _callee5$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (phase.order === order) {\n                phase.exercises.forEach(function _callee4(exercise) {\n                  var dlete, _dlete;\n\n                  return _regeneratorRuntime.async(function _callee4$(_context7) {\n                    while (1) {\n                      switch (_context7.prev = _context7.next) {\n                        case 0:\n                          _context7.next = 2;\n                          return _regeneratorRuntime.awrap(deleteMultimedia(exercise.gif));\n\n                        case 2:\n                          dlete = _context7.sent;\n\n                          if (!(exercise.voz.length > 25)) {\n                            _context7.next = 7;\n                            break;\n                          }\n\n                          _context7.next = 6;\n                          return _regeneratorRuntime.awrap(deleteMultimedia(exercise.voz));\n\n                        case 6:\n                          _dlete = _context7.sent;\n\n                        case 7:\n                        case \"end\":\n                          return _context7.stop();\n                      }\n                    }\n                  }, null, null, null, Promise);\n                });\n                props.deleteExercise({\n                  order: order,\n                  title: title,\n                  title2: title2\n                });\n                setExistence(!exists);\n              }\n\n            case 1:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    });\n  };\n\n  var FirstSection = function FirstSection(info, sectionIndex) {\n    var title = info.phase !== \"\" ? info.phase : info.title;\n    var title2 = info.phase !== \"\" ? info.title : \"\";\n    console.log(\"info fisrt\", info.exercises, info.title);\n    var existsInDownloads = props.previusIdentifiers.includes(title + title2);\n    var exercises = info.exercises.map(function (element, index) {\n      var tempExercise = {};\n      tempExercise[\"exerciseList\"] = element;\n      tempExercise[\"setup\"] = info.setup;\n      return tempExercise;\n    });\n    return React.createElement(View, {\n      style: FirstSectionStyles.container,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: FirstSectionStyles.rowContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: FirstSectionStyles.title,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }\n    }, title), React.createElement(View, {\n      style: FirstSectionStyles.iconContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }\n    }, existsInDownloads ? React.createElement(TouchableOpacity, {\n      style: FirstSectionStyles.downloadButton,\n      onPress: function onPress() {\n        if (props.connection) {\n          Alert.alert(\"Eliminar \" + title, \"¿Está seguro que quiere eliminar la descarga de \" + title + \"?\", [{\n            text: \"Cancelar\",\n            style: \"cancel\"\n          }, {\n            text: \"Eliminar\",\n            onPress: function onPress() {\n              var dlete;\n              return _regeneratorRuntime.async(function onPress$(_context9) {\n                while (1) {\n                  switch (_context9.prev = _context9.next) {\n                    case 0:\n                      _context9.next = 2;\n                      return _regeneratorRuntime.awrap(deleteInformation(sectionIndex, info.order, title, title2));\n\n                    case 2:\n                      dlete = _context9.sent;\n\n                    case 3:\n                    case \"end\":\n                      return _context9.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            }\n          }], {\n            cancelable: false\n          });\n        } else {\n          Alert.alert(\"Por favor conéctese al internet para eliminar.\");\n        }\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      style: {\n        color: \"rgba(52, 152, 219, 1)\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }\n    }, \"Descargado\"), React.createElement(MaterialIcons, {\n      name: \"file-download-done\",\n      size: vmin(7),\n      color: \"rgba(52, 152, 219, 1)\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 17\n      }\n    })) : !pending ? React.createElement(TouchableOpacity, {\n      onPress: function _callee6() {\n        return _regeneratorRuntime.async(function _callee6$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                Alert.alert(\"Descargar \" + title, \"¿Está seguro que quiere descargar \" + title + \" \" + title2 + \"?\", [{\n                  text: \"Cancelar\",\n                  style: \"cancel\"\n                }, {\n                  text: \"Descargar\",\n                  onPress: function onPress() {\n                    var download;\n                    return _regeneratorRuntime.async(function onPress$(_context10) {\n                      while (1) {\n                        switch (_context10.prev = _context10.next) {\n                          case 0:\n                            setPending(true);\n                            _context10.next = 3;\n                            return _regeneratorRuntime.awrap(downloadSection({\n                              sectionIndex: sectionIndex,\n                              title: title,\n                              title2: title2\n                            }));\n\n                          case 3:\n                            download = _context10.sent;\n                            setPending(false);\n\n                          case 5:\n                          case \"end\":\n                            return _context10.stop();\n                        }\n                      }\n                    }, null, null, null, Promise);\n                  }\n                }], {\n                  cancelable: false\n                });\n\n              case 1:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      },\n      style: FirstSectionStyles.downloadButton,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      style: {\n        color: \"rgba(153, 153, 153, 1)\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 17\n      }\n    }, \"Descargar\"), React.createElement(Download, {\n      name: \"md-download-outline\",\n      size: vmin(7),\n      color: \"rgba(153, 153, 153, 1)\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 17\n      }\n    })) : React.createElement(View, {\n      style: {\n        flexDirection: \"row\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      style: {\n        color: \"rgba(52, 152, 219, 1)\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 17\n      }\n    }, \"Descargando\"), React.createElement(ActivityIndicator, {\n      size: \"small\",\n      color: \"rgba(52, 152, 219, 1)\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 17\n      }\n    })))), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: SecondSectionStyles.container,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: SecondSectionStyles.title,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 13\n      }\n    }, title2), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 13\n      }\n    }, React.createElement(FlatList, {\n      horizontal: true,\n      data: exercises,\n      renderItem: OverviewExercise,\n      style: {},\n      keyExtractor: function keyExtractor(item, index) {\n        return item.key;\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 15\n      }\n    })))));\n  };\n\n  var SecondSection = function SecondSection(element) {\n    var title2 = element.phase !== \"\" ? \"\" : element.title;\n    var exerciseCollection = element.exercises;\n    return React.createElement(View, {\n      style: SecondSectionStyles.container,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: SecondSectionStyles.title,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }\n    }, title2), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }\n    }, React.createElement(FlatList, {\n      horizontal: true,\n      data: exerciseCollection,\n      renderItem: OverviewExercise,\n      style: {},\n      keyExtractor: function keyExtractor(item, index) {\n        return item.key;\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }\n    })));\n  };\n\n  var OverviewExercise = function OverviewExercise(item) {\n    var value = item.item;\n    var exercise = value.exerciseList;\n    var multimedia = exercise.gif;\n    var materials = exercise.materials;\n    var materialsBackground = materials !== \"\" ? \"rgba(142, 255, 127 ,1)\" : \"rgba(255, 136, 110,1)\";\n    var key_e = item.index;\n    return React.createElement(TouchableOpacity, {\n      key: key_e + \"e\",\n      style: OverviewExerciseStyles.container,\n      onPress: function onPress() {\n        console.warn(\"exercise itro--\", exercise);\n        props.props.navigation.navigate(\"IndividualExcercise\", {\n          data: exercise,\n          setup: value.setup\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: OverviewExerciseStyles.imageContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }\n    }, multimedia.includes(\"gif\") ? React.createElement(Image, {\n      source: {\n        uri: multimedia\n      },\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        resizeMode: \"cover\",\n        borderRadius: 13\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 13\n      }\n    }) : React.createElement(Video, {\n      source: {\n        uri: multimedia\n      },\n      resizeMode: \"stretch\",\n      isLooping: true,\n      usePoster: true,\n      shouldPlay: true,\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        borderRadius: 13\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 13\n      }\n    })), React.createElement(View, {\n      style: OverviewExerciseStyles.containerTexts,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: [OverviewExerciseStyles.subtitle, {\n        backgroundColor: materialsBackground\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 11\n      }\n    }, \"Materiales \", materials ? \"✅\" : \"❌\")));\n  };\n\n  if (loading) {\n    return React.createElement(View, {\n      style: {\n        justifyContent: \"center\",\n        height: \"100%\",\n        marginTop: \"5%\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 7\n      }\n    }, React.createElement(ChargeScreen, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 9\n      }\n    }));\n  } else if (information.length !== 0) {\n    return React.createElement(View, {\n      style: styles.container,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: styles.header,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 9\n      }\n    }, NavigationButton()), React.createElement(ScrollView, {\n      style: styles.body,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }\n    }, information.map(function (aaa, index) {\n      return FirstSection(aaa, index);\n    })));\n  } else if (!props.connection) {\n    return React.createElement(View, {\n      style: styles.container,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: {\n        textAlign: \"center\",\n        fontSize: vmin(8),\n        color: \"rgba(153, 153, 153, 1)\",\n        marginTop: \"50%\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 9\n      }\n    }, \"No hay descargas\"));\n  } else {\n    return React.createElement(View, {\n      style: {\n        justifyContent: \"center\",\n        height: \"100%\",\n        marginTop: \"5%\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 7\n      }\n    }, React.createElement(ChargeScreen, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }\n    }));\n  }\n};\n\nvar MapStateToProps = function MapStateToProps(store) {\n  console.log(\"exercise rotone reducer-------\", store.DownloadReducer.ExerciseRoutine);\n  return {\n    user: store.User.user,\n    connection: store.User.connection,\n    previusIdentifiers: store.DownloadReducer.ExerciseRoutineIndentifiers,\n    ExerciseRoutine: store.DownloadReducer.ExerciseRoutine\n  };\n};\n\nvar MapDispatchToProps = function MapDispatchToProps(dispatch, store) {\n  return {\n    addItemToExerciseRoutine: function addItemToExerciseRoutine(data) {\n      return dispatch(actionsDownload.ADD_ITEM_TO_EXERCISE_ROUTINE(data));\n    },\n    removeExercises: function removeExercises(data) {\n      return dispatch(actionsDownload.REMOVE_EXERCISE_LIST(data));\n    },\n    deleteExercise: function deleteExercise(data) {\n      return dispatch(actionsDownload.REMOVE_EXERCISE_ITEM(data));\n    }\n  };\n};\n\nexport default connect(MapStateToProps, MapDispatchToProps)(ExerciseRoutine);\nvar styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: \"white\"\n  },\n  header: {\n    width: \"100%\",\n    height: \"10%\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\",\n    borderColor: \"rgba(21, 21, 34, 1)\"\n  },\n  body: {\n    width: \"100%\",\n    height: \"88%\"\n  }\n});\nvar navigationStyles = StyleSheet.create({\n  containerNavigationButton: {\n    width: \"90%\",\n    flexDirection: \"row\",\n    marginTop: vmin(2),\n    height: \"80%\",\n    borderRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"rgba(105, 121, 248, 1)\"\n  },\n  sideButton: {\n    height: \"100%\",\n    width: \"15%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 10\n  },\n  navigationButtonText: {\n    height: \"70%\",\n    width: \"70%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderColor: \"rgba(255, 255, 255, 0.3)\",\n    borderLeftWidth: vmin(0.5),\n    borderRightWidth: vmin(0.5)\n  },\n  whiteText: {\n    color: \"white\"\n  }\n});\nvar FirstSectionStyles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    backgroundColor: \"white\",\n    justifyContent: \"space-evenly\",\n    borderColor: \"rgba(21, 21, 34, 1)\",\n    borderBottomWidth: vmin(0.4),\n    paddingTop: \"5%\",\n    paddingBottom: \"5%\",\n    paddingLeft: \"2%\",\n    paddingRight: \"2%\"\n  },\n  rowContainer: {\n    flexDirection: \"row\"\n  },\n  title: {\n    paddingLeft: vmin(1),\n    fontWeight: \"bold\",\n    width: \"65%\",\n    fontSize: vmin(4.3)\n  },\n  iconContainer: {\n    width: \"35%\",\n    justifyContent: \"center\",\n    alignItems: \"flex-end\"\n  },\n  downloadButton: {\n    width: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\"\n  }\n});\nvar SecondSectionStyles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    justifyContent: \"space-evenly\",\n    padding: \"3%\"\n  },\n  title: {\n    marginBottom: vmin(2),\n    fontWeight: \"bold\",\n    fontSize: vmin(3),\n    fontStyle: \"italic\"\n  }\n});\nvar OverviewExerciseStyles = StyleSheet.create({\n  container: {\n    width: vmin(42),\n    height: vmin(65),\n    marginRight: vmin(5)\n  },\n  containerTexts: {\n    width: \"100%\",\n    height: \"20%\"\n  },\n  title: {\n    fontSize: vmin(3),\n    fontWeight: \"bold\",\n    width: \"100%\",\n    textAlign: \"center\"\n  },\n  subtitle: {\n    padding: \"3%\",\n    fontSize: vmin(4.5),\n    color: \"black\",\n    width: \"100%\",\n    textAlign: \"center\"\n  },\n  imageContainer: {\n    overflow: \"hidden\",\n    width: \"100%\",\n    height: \"80%\",\n    borderRadius: 13,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.29,\n    shadowRadius: 4.65,\n    elevation: 7\n  }\n});","map":{"version":3,"sources":["C:/Users/dani1/Desktop/apptivate/src/components/cards/ExerciseRoutine.tsx"],"names":["React","useEffect","useState","firebase","Download","MaterialIcons","Video","require","vmin","connect","actionsDownload","FileSystem","ChargeScreen","ExerciseRoutine","props","information","setInformation","CurrentInformation","setCurrentInformation","loading","setLoading","exists","setExistence","pending","setPending","video","useRef","protocol","title","key","getProtocol","passed","list","level","connection","length","db","collection","doc","get","then","element","data","otherList","Object","values","map","index","trainingPhase","user","control","undefined","refs","info","temp","phase","setup","order","exercises","promises","ref","res","push","Promise","all","finished","console","log","warn","sort","a","b","catch","e","getUrls","items","urlList","forEach","gif","getAudioUrls","voz","mounted","NavigationButton","navigationStyles","containerNavigationButton","sideButton","whiteText","fontSize","navigationButtonText","downloadSection","sectionIndex","title2","urls","audioUrls","fileUri","documentDirectory","audioUri","downloadAsync","downloadedFile","downloadedFile1","item","previusIdentifiers","includes","sectionToSave","addItemToExerciseRoutine","newExercise","deleteMultimedia","uri","deleteAsync","deleteInformation","exercise","dlete","deleteExercise","FirstSection","existsInDownloads","tempExercise","FirstSectionStyles","container","rowContainer","iconContainer","downloadButton","Alert","alert","text","style","onPress","cancelable","color","download","flexDirection","SecondSectionStyles","OverviewExercise","SecondSection","exerciseCollection","value","exerciseList","multimedia","materials","materialsBackground","key_e","OverviewExerciseStyles","navigation","navigate","imageContainer","width","height","resizeMode","borderRadius","containerTexts","subtitle","backgroundColor","justifyContent","marginTop","styles","header","body","aaa","textAlign","MapStateToProps","store","DownloadReducer","User","ExerciseRoutineIndentifiers","MapDispatchToProps","dispatch","ADD_ITEM_TO_EXERCISE_ROUTINE","removeExercises","REMOVE_EXERCISE_LIST","REMOVE_EXERCISE_ITEM","StyleSheet","create","alignItems","borderColor","borderLeftWidth","borderRightWidth","borderBottomWidth","paddingTop","paddingBottom","paddingLeft","paddingRight","fontWeight","padding","marginBottom","fontStyle","marginRight","overflow","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\r\nimport {\r\n  View,\r\n  StyleSheet,\r\n  Text,\r\n  TouchableOpacity,\r\n  FlatList,\r\n  Alert,\r\n  ScrollView,\r\n  ActivityIndicator,\r\n  Image,\r\n} from \"react-native\";\r\n\r\nimport firebase from \"../../../database/firebase\";\r\nimport Download from \"react-native-vector-icons/Ionicons\";\r\nimport MaterialIcons from \"react-native-vector-icons/MaterialIcons\";\r\nimport { Video, AVPlaybackStatus } from \"expo-av\";\r\n\r\nvar { vmin } = require(\"react-native-expo-viewport-units\");\r\n\r\n// redux\r\n\r\nimport { Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport * as MyTypes from \"../../redux/types/types\";\r\nimport { actionsUser } from \"../../redux/actions/actionsUser\";\r\nimport { actionsDownload } from \"../../redux/actions/actionsDownload\";\r\n\r\nimport * as FileSystem from \"expo-file-system\";\r\n\r\nimport NavigateNext from \"react-native-vector-icons/MaterialIcons\";\r\nimport ChargeScreen from \"../Simple/ChargeScreen\";\r\n\r\nconst ExerciseRoutine = (props) => {\r\n  const [information, setInformation] = useState([]);\r\n  const [CurrentInformation, setCurrentInformation] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [exists, setExistence] = useState(false);\r\n  const [pending, setPending] = useState(false);\r\n\r\n  const video = React.useRef(null);\r\n\r\n  const protocol = [\r\n    { title: \"Fase Preprotésica\", key: \"preprotesico\" },\r\n    {\r\n      title: \"Fase Protésica\",\r\n      key: \"protesico\",\r\n    },\r\n  ];\r\n\r\n  const getProtocol = async () => {\r\n    let passed = 0;\r\n    let list: any = [];\r\n    const level = protocol[CurrentInformation].key;\r\n    if (props.connection && information.length !== 14) {\r\n      await firebase.db\r\n        .collection(\"protocol\")\r\n        .doc(level)\r\n        .get()\r\n        .then((element) => {\r\n          let data: any = element.data();\r\n          const otherList = Object.values(data).map(\r\n            async (element: any, index) => {\r\n              const trainingPhase =\r\n                props.user.information.control === undefined\r\n                  ? \"\"\r\n                  : props.user.information.control.trainingPhase &&\r\n                    props.user.information.control.trainingPhase !== \"\"\r\n                  ? props.user.information.control.trainingPhase\r\n                  : \"\";\r\n              if (element.refs.length > 0) {\r\n                let info: any = [];\r\n                let temp = {\r\n                  title: element.title,\r\n                  phase: element.phase,\r\n                  setup: element.setup,\r\n                  order: element.order,\r\n                  exercises: [],\r\n                };\r\n                const promises = element.refs.map(async (ref, index) => {\r\n                  await ref.get().then((res) => {\r\n                    info.push(res.data());\r\n                  });\r\n                  return info;\r\n                });\r\n                const finished = await Promise.all(promises).then(\r\n                  (finished: Object) => {\r\n                    temp.exercises = finished[0];\r\n                    temp.phase === \"\" || temp.phase === trainingPhase\r\n                      ? list.push(temp)\r\n                      : console.log(\"passed\");\r\n                    console.warn(\"passed----\", passed, \" | \", list.length);\r\n                    if (\r\n                      (trainingPhase === \"\" && list.length === 3) ||\r\n                      (trainingPhase === \"Avanzada\" &&\r\n                        list.length === 7 - passed) ||\r\n                      (trainingPhase === \"Intermedia\" &&\r\n                        list.length === 6 - passed) ||\r\n                      (trainingPhase === \"Inicial\" &&\r\n                        list.length === 6 - passed)\r\n                    ) {\r\n                      console.log(\"exercise list---- \", list);\r\n                      list.sort(function (a, b) {\r\n                        return a.order - b.order;\r\n                      });\r\n                      setInformation(list);\r\n                      // setLoading(false);\r\n                    }\r\n                  }\r\n                );\r\n              } else {\r\n                if (trainingPhase === \"\" || trainingPhase === element.phase) {\r\n                  passed++;\r\n                }\r\n              }\r\n            }\r\n          );\r\n        })\r\n        .catch((e) => {\r\n          console.log(\"El error es \", e);\r\n        });\r\n    } else if (!props.connection) {\r\n      setInformation(props.ExerciseRoutine);\r\n      // setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getUrls = (items) => {\r\n    // console.log(items);\r\n    let urlList = [];\r\n    items.forEach((element) => {\r\n      urlList.push(element.gif);\r\n    });\r\n    return urlList;\r\n  };\r\n\r\n  const getAudioUrls = (items) => {\r\n    let urlList = [];\r\n    items.forEach((element) => {\r\n      console.warn(\"voz====\", items);\r\n      urlList.push(element.voz);\r\n    });\r\n    return urlList;\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    // console.warn(\"in useEffect----\", mounted);\r\n    if (mounted && information !== [] && loading) {\r\n      console.warn(\"entreed\");\r\n      getProtocol().then(() => (loading ? setLoading(false) : console.log(\"\")));\r\n    } else {\r\n      console.warn(\"info----- eff---\", information);\r\n    }\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [CurrentInformation]);\r\n\r\n  const NavigationButton = () => {\r\n    return (\r\n      <View style={navigationStyles.containerNavigationButton}>\r\n        <TouchableOpacity\r\n          onPress={() => {\r\n            setLoading(true);\r\n            if (CurrentInformation - 1 >= 0) {\r\n              setCurrentInformation(CurrentInformation - 1);\r\n            } else if (CurrentInformation === 0) {\r\n              setCurrentInformation(1);\r\n            }\r\n          }}\r\n          style={navigationStyles.sideButton}\r\n        >\r\n          <Text style={[navigationStyles.whiteText, { fontSize: vmin(5) }]}>\r\n            {\"<\"}\r\n          </Text>\r\n        </TouchableOpacity>\r\n        <View style={navigationStyles.navigationButtonText}>\r\n          <Text style={navigationStyles.whiteText}>\r\n            {protocol[CurrentInformation].title}\r\n          </Text>\r\n        </View>\r\n        <TouchableOpacity\r\n          style={navigationStyles.sideButton}\r\n          onPress={() => {\r\n            setLoading(true);\r\n            if (CurrentInformation + 1 < protocol.length) {\r\n              setCurrentInformation(CurrentInformation + 1);\r\n            } else if (CurrentInformation === 1) {\r\n              setCurrentInformation(0);\r\n            }\r\n          }}\r\n        >\r\n          <Text style={[navigationStyles.whiteText, { fontSize: vmin(5) }]}>\r\n            {\">\"}\r\n          </Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const downloadSection = async ({ sectionIndex, title, title2 }) => {\r\n    const urls = getUrls(information[sectionIndex].exercises);\r\n    const audioUrls = getAudioUrls(information[sectionIndex].exercises);\r\n    let items: any = [...information];\r\n    title2 = title2 === \"title2\" ? \"\" : title2;\r\n\r\n    console.warn(\"item---\", items);\r\n    await Promise.all(\r\n      urls.map(async (element, index) => {\r\n        console.warn(\"url---\", element);\r\n        const fileUri: string = `${FileSystem.documentDirectory}${\r\n          title + title2 + index\r\n        }`;\r\n        console.warn(\"uri---\", fileUri);\r\n        let audioUri: string = `${FileSystem.documentDirectory}${\r\n          title + title2 + \"Audio\" + index\r\n        }`;\r\n\r\n        const downloadedFile: FileSystem.FileSystemDownloadResult =\r\n          await FileSystem.downloadAsync(element, fileUri);\r\n        if (audioUrls[index].length > 25) {\r\n          console.warn(\"passed file download\", audioUrls[index]);\r\n          const downloadedFile1: FileSystem.FileSystemDownloadResult =\r\n            await FileSystem.downloadAsync(audioUrls[index], audioUri);\r\n        } else {\r\n          audioUri = \"\";\r\n        }\r\n        let item = {\r\n          ...items[sectionIndex].exercises[index],\r\n          voz: audioUri,\r\n          gif: fileUri,\r\n        };\r\n        console.warn(\"downloaded all----\", item);\r\n        items[sectionIndex].exercises[index] = item;\r\n\r\n        setInformation(items);\r\n      })\r\n    )\r\n      .then(() => {\r\n        if (!props.previusIdentifiers.includes(title + title2)) {\r\n          let sectionToSave = information[sectionIndex];\r\n          console.warn(\"section---\", information[sectionIndex]);\r\n          props.addItemToExerciseRoutine({\r\n            newExercise: sectionToSave,\r\n            title,\r\n            title2,\r\n          });\r\n        }\r\n        setExistence(!exists);\r\n      })\r\n      .catch((e) => {\r\n        console.warn(\"promise all download---\", e);\r\n      });\r\n  };\r\n\r\n  const deleteMultimedia = async (uri) => {\r\n    try {\r\n      await FileSystem.deleteAsync(uri);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const deleteInformation = (sectionIndex, order, title, title2) => {\r\n    console.warn(\"exercise routine--\", props.ExerciseRoutine[sectionIndex]);\r\n    props.ExerciseRoutine.forEach(async (phase, index) => {\r\n      if (phase.order === order) {\r\n        phase.exercises.forEach(async (exercise) => {\r\n          const dlete = await deleteMultimedia(exercise.gif);\r\n          if (exercise.voz.length > 25) {\r\n            const dlete = await deleteMultimedia(exercise.voz);\r\n          }\r\n        });\r\n\r\n        props.deleteExercise({ order, title, title2 });\r\n        setExistence(!exists);\r\n      }\r\n    });\r\n  };\r\n\r\n  const FirstSection = (info, sectionIndex) => {\r\n    let title = info.phase !== \"\" ? info.phase : info.title;\r\n    let title2 = info.phase !== \"\" ? info.title : \"\";\r\n\r\n    console.log(\"info fisrt\", info.exercises, info.title);\r\n\r\n    let existsInDownloads = props.previusIdentifiers.includes(title + title2);\r\n    const exercises = info.exercises.map((element, index) => {\r\n      let tempExercise = {};\r\n      tempExercise[\"exerciseList\"] = element;\r\n      tempExercise[\"setup\"] = info.setup;\r\n      return tempExercise;\r\n    });\r\n    return (\r\n      <View style={FirstSectionStyles.container}>\r\n        <View style={FirstSectionStyles.rowContainer}>\r\n          <Text style={FirstSectionStyles.title}>{title}</Text>\r\n          <View style={FirstSectionStyles.iconContainer}>\r\n            {/* <NavigateNext name=\"navigate-next\" size={vmin(7)} color=\"black\" /> */}\r\n\r\n            {existsInDownloads ? (\r\n              <TouchableOpacity\r\n                style={FirstSectionStyles.downloadButton}\r\n                onPress={() => {\r\n                  // Alert.alert(\" ALert on press \");\r\n                  if (props.connection) {\r\n                    Alert.alert(\r\n                      \"Eliminar \" + title,\r\n                      \"¿Está seguro que quiere eliminar la descarga de \" +\r\n                        title +\r\n                        \"?\",\r\n                      [\r\n                        {\r\n                          text: \"Cancelar\",\r\n                          style: \"cancel\",\r\n                        },\r\n                        {\r\n                          text: \"Eliminar\",\r\n                          onPress: async () => {\r\n                            const dlete = await deleteInformation(\r\n                              sectionIndex,\r\n                              info.order,\r\n                              title,\r\n                              title2\r\n                            );\r\n                          },\r\n                        },\r\n                      ],\r\n                      { cancelable: false }\r\n                    );\r\n                  } else {\r\n                    Alert.alert(\r\n                      \"Por favor conéctese al internet para eliminar.\"\r\n                    );\r\n                  }\r\n                }}\r\n              >\r\n                <Text style={{ color: \"rgba(52, 152, 219, 1)\" }}>\r\n                  Descargado\r\n                </Text>\r\n                <MaterialIcons\r\n                  name=\"file-download-done\"\r\n                  size={vmin(7)}\r\n                  color=\"rgba(52, 152, 219, 1)\"\r\n                />\r\n              </TouchableOpacity>\r\n            ) : !pending ? (\r\n              <TouchableOpacity\r\n                onPress={async () => {\r\n                  //Alert.alert(title);\r\n                  Alert.alert(\r\n                    \"Descargar \" + title,\r\n                    \"¿Está seguro que quiere descargar \" +\r\n                      title +\r\n                      \" \" +\r\n                      title2 +\r\n                      \"?\",\r\n                    [\r\n                      {\r\n                        text: \"Cancelar\",\r\n                        style: \"cancel\",\r\n                      },\r\n                      {\r\n                        text: \"Descargar\",\r\n                        onPress: async () => {\r\n                          setPending(true);\r\n                          const download = await downloadSection({\r\n                            sectionIndex,\r\n                            title,\r\n                            title2,\r\n                          });\r\n                          setPending(false);\r\n                        },\r\n                      },\r\n                    ],\r\n                    { cancelable: false }\r\n                  );\r\n                }}\r\n                style={FirstSectionStyles.downloadButton}\r\n              >\r\n                <Text style={{ color: \"rgba(153, 153, 153, 1)\" }}>\r\n                  Descargar\r\n                </Text>\r\n                <Download\r\n                  name=\"md-download-outline\"\r\n                  size={vmin(7)}\r\n                  color=\"rgba(153, 153, 153, 1)\"\r\n                />\r\n              </TouchableOpacity>\r\n            ) : (\r\n              <View style={{ flexDirection: \"row\" }}>\r\n                <Text style={{ color: \"rgba(52, 152, 219, 1)\" }}>\r\n                  Descargando\r\n                </Text>\r\n                <ActivityIndicator size=\"small\" color=\"rgba(52, 152, 219, 1)\" />\r\n              </View>\r\n            )}\r\n          </View>\r\n        </View>\r\n\r\n        <View>\r\n          <View style={SecondSectionStyles.container}>\r\n            <Text style={SecondSectionStyles.title}>{title2}</Text>\r\n\r\n            <View>\r\n              <FlatList\r\n                horizontal\r\n                data={exercises}\r\n                renderItem={OverviewExercise}\r\n                style={{}}\r\n                keyExtractor={(item, index) => item.key}\r\n              />\r\n            </View>\r\n          </View>\r\n          {/* <SecondSection key={\"sec2\" + 1} element={info} /> */}\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const SecondSection = (element) => {\r\n    let title2 = element.phase !== \"\" ? \"\" : element.title;\r\n    let exerciseCollection = element.exercises;\r\n    return (\r\n      <View style={SecondSectionStyles.container}>\r\n        <Text style={SecondSectionStyles.title}>{title2}</Text>\r\n        <View>\r\n          <FlatList\r\n            horizontal\r\n            data={exerciseCollection}\r\n            renderItem={OverviewExercise}\r\n            style={{}}\r\n            keyExtractor={(item, index) => item.key}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const OverviewExercise = (item) => {\r\n    // console.warn(\"El item que llega al ejercicios es :\", item.item);\r\n    let value = item.item;\r\n    let exercise = value.exerciseList;\r\n    // let day = exercise.day;\r\n    // let time = exercise.time;\r\n    let multimedia = exercise.gif;\r\n    let materials = exercise.materials;\r\n    let materialsBackground =\r\n      materials !== \"\" ? \"rgba(142, 255, 127 ,1)\" : \"rgba(255, 136, 110,1)\";\r\n\r\n    let key_e = item.index;\r\n\r\n    // console.warn(\r\n    //   \"La multimeodoas s props que tenemos hata aca son:::::::::::::::::\",\r\n    //   multimedia\r\n    // );\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        key={key_e + \"e\"}\r\n        style={OverviewExerciseStyles.container}\r\n        onPress={() => {\r\n          console.warn(\"exercise itro--\", exercise);\r\n          props.props.navigation.navigate(\"IndividualExcercise\", {\r\n            data: exercise,\r\n            setup: value.setup,\r\n          });\r\n        }}\r\n      >\r\n        <View style={OverviewExerciseStyles.imageContainer}>\r\n          {multimedia.includes(\"gif\") ? (\r\n            <Image\r\n              source={{ uri: multimedia }}\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                resizeMode: \"cover\",\r\n                borderRadius: 13,\r\n              }}\r\n            />\r\n          ) : (\r\n            <Video\r\n              source={{ uri: multimedia }}\r\n              resizeMode=\"stretch\"\r\n              isLooping\r\n              usePoster\r\n              shouldPlay\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                borderRadius: 13,\r\n              }}\r\n            />\r\n          )}\r\n        </View>\r\n        <View style={OverviewExerciseStyles.containerTexts}>\r\n          {/* <Text style={OverviewExerciseStyles.title}>{day}</Text> */}\r\n          {/* <Text style={OverviewExerciseStyles.subtitle}>{time}</Text> */}\r\n          <Text\r\n            style={[\r\n              OverviewExerciseStyles.subtitle,\r\n              { backgroundColor: materialsBackground },\r\n            ]}\r\n          >\r\n            Materiales {materials ? \"✅\" : \"❌\"}\r\n          </Text>\r\n        </View>\r\n      </TouchableOpacity>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <View\r\n        style={{ justifyContent: \"center\", height: \"100%\", marginTop: \"5%\" }}\r\n      >\r\n        <ChargeScreen />\r\n      </View>\r\n    );\r\n  } else if (information.length !== 0) {\r\n    // console.warn(\"informacion--------\", information);\r\n    return (\r\n      <View style={styles.container}>\r\n        <View style={styles.header}>\r\n          {/* <Text> Coleccion de ejercicios. </Text> */}\r\n          {NavigationButton()}\r\n        </View>\r\n\r\n        <ScrollView style={styles.body}>\r\n          {information.map((aaa, index) => FirstSection(aaa, index))}\r\n        </ScrollView>\r\n      </View>\r\n    );\r\n  } else if (!props.connection) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <Text\r\n          style={{\r\n            textAlign: \"center\",\r\n            fontSize: vmin(8),\r\n            color: \"rgba(153, 153, 153, 1)\",\r\n            marginTop: \"50%\",\r\n          }}\r\n        >\r\n          No hay descargas\r\n        </Text>\r\n      </View>\r\n    );\r\n  } else {\r\n    return (\r\n      <View\r\n        style={{ justifyContent: \"center\", height: \"100%\", marginTop: \"5%\" }}\r\n      >\r\n        <ChargeScreen />\r\n      </View>\r\n    );\r\n  }\r\n};\r\nconst MapStateToProps = (store: MyTypes.ReducerState) => {\r\n  console.log(\r\n    \"exercise rotone reducer-------\",\r\n    store.DownloadReducer.ExerciseRoutine\r\n  );\r\n  return {\r\n    user: store.User.user,\r\n    connection: store.User.connection,\r\n    previusIdentifiers: store.DownloadReducer.ExerciseRoutineIndentifiers,\r\n    ExerciseRoutine: store.DownloadReducer.ExerciseRoutine,\r\n  };\r\n};\r\n\r\nconst MapDispatchToProps = (dispatch: Dispatch, store: any) => ({\r\n  addItemToExerciseRoutine: (data) =>\r\n    dispatch(actionsDownload.ADD_ITEM_TO_EXERCISE_ROUTINE(data)),\r\n  removeExercises: (data) =>\r\n    dispatch(actionsDownload.REMOVE_EXERCISE_LIST(data)),\r\n  deleteExercise: (data) =>\r\n    dispatch(actionsDownload.REMOVE_EXERCISE_ITEM(data)),\r\n});\r\nexport default connect(MapStateToProps, MapDispatchToProps)(ExerciseRoutine);\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    backgroundColor: \"white\",\r\n  },\r\n\r\n  header: {\r\n    width: \"100%\",\r\n    height: \"10%\",\r\n    // backgroundColor: \"salmon\",\r\n\r\n    justifyContent: \"space-evenly\",\r\n    alignItems: \"center\",\r\n    borderColor: \"rgba(21, 21, 34, 1)\",\r\n    // borderBottomWidth: vmin(0.4),\r\n  },\r\n\r\n  body: {\r\n    width: \"100%\",\r\n    height: \"88%\",\r\n    // backgroundColor: \"red\"\r\n  },\r\n});\r\n\r\nconst navigationStyles = StyleSheet.create({\r\n  containerNavigationButton: {\r\n    width: \"90%\",\r\n    flexDirection: \"row\",\r\n    marginTop: vmin(2),\r\n    height: \"80%\",\r\n    borderRadius: 10,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"rgba(105, 121, 248, 1)\",\r\n  },\r\n\r\n  sideButton: {\r\n    height: \"100%\",\r\n    width: \"15%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 10,\r\n  },\r\n\r\n  navigationButtonText: {\r\n    height: \"70%\",\r\n    width: \"70%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderColor: \"rgba(255, 255, 255, 0.3)\",\r\n    borderLeftWidth: vmin(0.5),\r\n    borderRightWidth: vmin(0.5),\r\n  },\r\n\r\n  whiteText: {\r\n    color: \"white\",\r\n  },\r\n});\r\n\r\nconst FirstSectionStyles = StyleSheet.create({\r\n  container: {\r\n    width: \"100%\",\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"space-evenly\",\r\n    borderColor: \"rgba(21, 21, 34, 1)\",\r\n    borderBottomWidth: vmin(0.4),\r\n    paddingTop: \"5%\",\r\n    paddingBottom: \"5%\",\r\n    paddingLeft: \"2%\",\r\n    paddingRight: \"2%\",\r\n  },\r\n  rowContainer: {\r\n    flexDirection: \"row\",\r\n  },\r\n  title: {\r\n    paddingLeft: vmin(1),\r\n    fontWeight: \"bold\",\r\n    width: \"65%\",\r\n    fontSize: vmin(4.3),\r\n  },\r\n  iconContainer: {\r\n    width: \"35%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"flex-end\",\r\n  },\r\n\r\n  downloadButton: {\r\n    width: \"100%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"row\",\r\n    // backgroundColor: \"red\",\r\n  },\r\n});\r\n\r\nconst SecondSectionStyles = StyleSheet.create({\r\n  container: {\r\n    width: \"100%\",\r\n    // backgroundColor: \"peru\",\r\n    justifyContent: \"space-evenly\",\r\n    padding: \"3%\",\r\n  },\r\n\r\n  title: {\r\n    marginBottom: vmin(2),\r\n    fontWeight: \"bold\",\r\n    fontSize: vmin(3),\r\n    fontStyle: \"italic\",\r\n  },\r\n});\r\n\r\nconst OverviewExerciseStyles = StyleSheet.create({\r\n  container: {\r\n    width: vmin(42),\r\n    height: vmin(65),\r\n    // backgroundColor: \"yellow\",\r\n    marginRight: vmin(5),\r\n  },\r\n\r\n  containerTexts: {\r\n    width: \"100%\",\r\n    height: \"20%\",\r\n  },\r\n\r\n  title: {\r\n    fontSize: vmin(3),\r\n    fontWeight: \"bold\",\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  subtitle: {\r\n    padding: \"3%\",\r\n    fontSize: vmin(4.5),\r\n    color: \"black\",\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  imageContainer: {\r\n    overflow: \"hidden\",\r\n    width: \"100%\",\r\n    height: \"80%\",\r\n    // backgroundColor: \"green\",\r\n    borderRadius: 13,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 3,\r\n    },\r\n    shadowOpacity: 0.29,\r\n    shadowRadius: 4.65,\r\n\r\n    elevation: 7,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}