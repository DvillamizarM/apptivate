{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\dani1\\\\Desktop\\\\apptivate\\\\src\\\\components\\\\Functional\\\\UpdatePersonalData.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\n\nvar _require = require(\"react-native-expo-viewport-units\"),\n    vmin = _require.vmin;\n\nimport firebase from \"../../../database/firebase\";\nimport * as yup from \"yup\";\nimport Password from \"../Simple/PasswordTextField\";\nimport { connect } from \"react-redux\";\nimport { actionsUser } from \"../../redux/actions/actionsUser\";\nimport ChargeScreen from \"../Simple/ChargeScreen\";\n\nfunction UpdatePersonalData(props) {\n  var _useState = useState({\n    email: \"\",\n    password: \"\",\n    name: \"\",\n    id: \"\",\n    genero: \"\",\n    phone: \"\",\n    newPassWord: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setdata = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var schema = yup.object().shape({\n    email: yup.string().required(\"El campo es obligatorio\").email(\"Por favor ingrese un correo válido\"),\n    password: yup.string().required(\"El campo es obligatorio\").max(20, \"No puede contener mas de ${max} letras\").min(6, \"No puede contener menos de ${min} letras\"),\n    name: yup.string().required(\"El campo es obligatorio\").max(30, \"No puede contener mas de ${max} letras\").min(8, \"No puede contener menos de ${min} letras\").matches(/^[^0-9]+$/, \"No puede contener números o símbolos\"),\n    id: yup.string().required(\"El campo es obligatorio\").matches(/^\\d+$/, \"No puede contener letras o símbolos\").max(15, \"No puede contener mas de ${max} letras\").min(8, \"No puede contener menos de ${min} letras\"),\n    phone: yup.string().required(\"El campo es obligatorio\").matches(/^\\d+$/, \"No puede contener letras o símbolos\").max(12, \"No puede contener mas de ${max} letras\").min(7, \"No puede contener menos de {min} letras\")\n  });\n  useEffect(function () {\n    firebase.db.collection(\"users\").doc(props.user.uid).get().then(function (user_db) {\n      setdata(_objectSpread({}, user_db.data().personal));\n      setLoading(false);\n      props.navigation.navigate(\"Home\");\n    }).catch(function (e) {\n      console.log(\"El error es \", e);\n    });\n  }, []);\n\n  var reauthenticate = function reauthenticate(currentPassword) {\n    var user = firebase.auth.currentUser;\n    var cred = firebase.firebase.auth.EmailAuthProvider.credential(user.email, currentPassword);\n    return user.reauthenticateWithCredential(cred);\n  };\n\n  var update = function update() {\n    return _regeneratorRuntime.async(function update$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(reauthenticate(data.password).then(function () {\n              var user = firebase.auth.currentUser;\n              user.updateEmail(data.email).then(function () {\n                Alert.alert(\"Correo actualizado\");\n              }).catch(function (error) {\n                console.log(error);\n              });\n            }).catch(function (error) {\n              console.log(error);\n            }));\n\n          case 2:\n            if (!(data.newPassWord !== \"\")) {\n              _context.next = 5;\n              break;\n            }\n\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(reauthenticate(data.password).then(function () {\n              var user = firebase.auth.currentUser;\n              user.updatePassword(data.newPassWord).then(function () {\n                Alert.alert(\"Contraseña Actualizada\");\n              }).catch(function (error) {\n                console.log(error);\n              });\n            }).catch(function (error) {\n              console.log(error);\n            }));\n\n          case 5:\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(firebase.db.collection(\"users\").doc(props.user.uid).update({\n              personal: {\n                name: data.name,\n                phone: data.phone,\n                email: data.email,\n                genero: data.genero,\n                id: data.id\n              }\n            }).then(function (e) {\n              Alert.alert(\"Datos personales del usuario actualizados\");\n              var newUser = firebase.auth.currentUser;\n              newUser[\"information\"][\"personal\"] = {\n                name: data.name,\n                phone: data.phone,\n                email: data.email,\n                id: data.id\n              };\n              props.setUser(newUser);\n              props.props.navigation.navigate(\"Home\");\n            }).catch(function (e) {\n              console.log(\"El error es \", e);\n            }));\n\n          case 7:\n            setLoading(false);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  if (loading) {\n    return React.createElement(View, {\n      style: {\n        justifyContent: \"center\",\n        marginTop: \"5%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, React.createElement(ChargeScreen, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 69\n      }\n    }));\n  } else {\n    return React.createElement(View, {\n      style: styles.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.containerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.headerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, \"Nombre Completo\"), React.createElement(TextInput, {\n      style: styles.input,\n      onChangeText: function onChangeText(value) {\n        setdata(_objectSpread(_objectSpread({}, data), {}, {\n          name: value\n        }));\n      },\n      value: data.name,\n      placeholder: \"Ingrese Nombres y Apellidos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    })), React.createElement(View, {\n      style: styles.containerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.headerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, \"Documento de Identidad\"), React.createElement(TextInput, {\n      style: styles.input,\n      onChangeText: function onChangeText(value) {\n        setdata(_objectSpread(_objectSpread({}, data), {}, {\n          id: value\n        }));\n      },\n      value: data.id,\n      keyboardType: \"number-pad\",\n      placeholder: \"Tarjeta de Identidad o Cédula\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }\n    })), React.createElement(View, {\n      style: styles.containerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.headerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, \"Tel\\xE9fono\"), React.createElement(TextInput, {\n      style: styles.input,\n      onChangeText: function onChangeText(value) {\n        setdata(_objectSpread(_objectSpread({}, data), {}, {\n          phone: value\n        }));\n      },\n      value: data.phone,\n      keyboardType: \"phone-pad\",\n      placeholder: \"Número telefónico celular\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    })), React.createElement(View, {\n      style: styles.containerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.headerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }\n    }, \"Correo Electr\\xF3nico\"), React.createElement(TextInput, {\n      style: styles.input,\n      onChangeText: function onChangeText(value) {\n        setdata(_objectSpread(_objectSpread({}, data), {}, {\n          email: value\n        }));\n      },\n      value: data.email,\n      keyboardType: \"email-address\",\n      placeholder: \"Dirección de correo electrónico\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    })), React.createElement(View, {\n      style: styles.containerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.headerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }\n    }, \"G\\xE9nero\"), React.createElement(TextInput, {\n      onChangeText: function onChangeText(value) {\n        setdata(_objectSpread(_objectSpread({}, data), {}, {\n          genero: value\n        }));\n      },\n      style: styles.input,\n      value: data.genero,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }\n    })), React.createElement(View, {\n      style: styles.containerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.headerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }, \"Antigua Contrase\\xF1a\"), React.createElement(Password, {\n      label: \"Mínimo 8 caracteres\",\n      onChange: function onChange(value) {\n        setdata(_objectSpread(_objectSpread({}, data), {}, {\n          password: value\n        }));\n      },\n      height: 40,\n      width: \"100%\",\n      value: data.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }\n    })), React.createElement(View, {\n      style: styles.containerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.headerInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 13\n      }\n    }, \" Nueva Contrase\\xF1a\"), React.createElement(Password, {\n      label: \"Mínimo 8 caracteres\",\n      onChange: function onChange(value) {\n        setdata(_objectSpread(_objectSpread({}, data), {}, {\n          newPassWord: value\n        }));\n      },\n      height: 40,\n      width: \"100%\",\n      value: data.newPassWord,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }\n    })), React.createElement(TouchableOpacity, {\n      style: styles.button,\n      onPress: function onPress() {\n        schema.validate(data).then(function () {\n          setLoading(true);\n          update();\n        }).catch(function (err) {\n          console.log(err);\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: {\n        color: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }\n    }, \"Actualizar datos Personales\"))));\n  }\n}\n\nvar MapStateToProps = function MapStateToProps(store) {\n  return {\n    user: store.User.user\n  };\n};\n\nvar MapDispatchToProps = function MapDispatchToProps(dispatch, store) {\n  return {\n    setUser: function setUser(val) {\n      return dispatch(actionsUser.SET_USER(val));\n    }\n  };\n};\n\nexport default connect(MapStateToProps, MapDispatchToProps)(UpdatePersonalData);\nvar styles = StyleSheet.create({\n  header: {\n    height: \"10%\",\n    width: \"90%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: \"5%\",\n    marginRight: \"5%\"\n  },\n  textHeader: {\n    fontSize: vmin(5)\n  },\n  container: {\n    backgroundColor: \"white\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  containerInput: {\n    height: vmin(25),\n    width: \"90%\",\n    marginLeft: \"5%\",\n    marginRight: \"5%\",\n    marginBottom: \"2%\",\n    justifyContent: \"space-evenly\"\n  },\n  headerInput: {\n    width: \"100%\",\n    textAlign: \"left\",\n    fontSize: vmin(4),\n    fontWeight: \"bold\",\n    left: vmin(1.5)\n  },\n  input: {\n    height: \"60%\",\n    width: \"100%\",\n    borderColor: \"rgba(228, 228, 228, 0.6)\",\n    borderWidth: 1,\n    borderRadius: 5\n  },\n  button: {\n    backgroundColor: \"#6979F8\",\n    width: \"90%\",\n    height: vmin(12),\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 5,\n    margin: \"5%\",\n    marginTop: vmin(10),\n    marginBottom: vmin(10)\n  },\n  scroll: {\n    height: \"90%\",\n    width: \"100%\"\n  }\n});\nvar navigationButtonStyles = StyleSheet.create({\n  containerNavigationButton: {\n    width: \"100%\",\n    flexDirection: \"row\",\n    height: \"80%\",\n    borderRadius: 10,\n    backgroundColor: \"rgba(105, 121, 248, 1)\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  sideButton: {\n    height: \"100%\",\n    width: \"15%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 10\n  },\n  navigationButtonText: {\n    height: \"70%\",\n    width: \"70%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderColor: \"rgba(255, 255, 255, 0.3)\",\n    borderLeftWidth: vmin(0.5),\n    borderRightWidth: vmin(0.5)\n  },\n  whiteText: {\n    color: \"white\"\n  }\n});","map":{"version":3,"sources":["C:/Users/dani1/Desktop/apptivate/src/components/Functional/UpdatePersonalData.tsx"],"names":["React","useState","useEffect","require","vmin","firebase","yup","Password","connect","actionsUser","ChargeScreen","UpdatePersonalData","props","email","password","name","id","genero","phone","newPassWord","data","setdata","loading","setLoading","schema","object","shape","string","required","max","min","matches","db","collection","doc","user","uid","get","then","user_db","personal","navigation","navigate","catch","e","console","log","reauthenticate","currentPassword","auth","currentUser","cred","EmailAuthProvider","credential","reauthenticateWithCredential","update","updateEmail","Alert","alert","error","updatePassword","newUser","setUser","justifyContent","marginTop","styles","container","containerInput","headerInput","input","value","button","validate","err","color","MapStateToProps","store","User","MapDispatchToProps","dispatch","val","SET_USER","StyleSheet","create","header","height","width","alignItems","marginLeft","marginRight","textHeader","fontSize","backgroundColor","marginBottom","textAlign","fontWeight","left","borderColor","borderWidth","borderRadius","margin","scroll","navigationButtonStyles","containerNavigationButton","flexDirection","sideButton","navigationButtonText","borderLeftWidth","borderRightWidth","whiteText"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  TextInput,\r\n  ActivityIndicator,\r\n  Alert,\r\n} from \"react-native\";\r\nvar { vmin } = require(\"react-native-expo-viewport-units\");\r\nimport firebase from \"../../../database/firebase\";\r\nimport * as yup from \"yup\";\r\nimport Password from \"../Simple/PasswordTextField\";\r\n\r\n// redux\r\n\r\nimport { Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport * as MyTypes from \"../../redux/types/types\";\r\nimport { actionsUser } from \"../../redux/actions/actionsUser\";\r\nimport UpdateMedicalData from \"../Functional/UpdateMedicalData\";\r\nimport ChargeScreen from \"../Simple/ChargeScreen\";\r\n\r\nfunction UpdatePersonalData(props) {\r\n  const [data, setdata] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\",\r\n    id: \"\",\r\n    genero:\"\",\r\n    phone: \"\",\r\n    newPassWord: \"\",\r\n  });\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const schema = yup.object().shape({\r\n    email: yup\r\n      .string()\r\n      .required(\"El campo es obligatorio\")\r\n      .email(\"Por favor ingrese un correo válido\"),\r\n    password: yup\r\n      .string()\r\n      .required(\"El campo es obligatorio\")\r\n      .max(20, \"No puede contener mas de ${max} letras\")\r\n      .min(6, \"No puede contener menos de ${min} letras\"),\r\n    name: yup\r\n      .string()\r\n      .required(\"El campo es obligatorio\")\r\n      .max(30, \"No puede contener mas de ${max} letras\")\r\n      .min(8, \"No puede contener menos de ${min} letras\")\r\n      .matches(/^[^0-9]+$/, \"No puede contener números o símbolos\"),\r\n    id: yup\r\n      .string()\r\n      .required(\"El campo es obligatorio\")\r\n      .matches(/^\\d+$/, \"No puede contener letras o símbolos\")\r\n      .max(15, \"No puede contener mas de ${max} letras\")\r\n      .min(8, \"No puede contener menos de ${min} letras\"),\r\n    phone: yup\r\n      .string()\r\n      .required(\"El campo es obligatorio\")\r\n      .matches(/^\\d+$/, \"No puede contener letras o símbolos\")\r\n      .max(12, \"No puede contener mas de ${max} letras\")\r\n      .min(7, \"No puede contener menos de {min} letras\"),\r\n  });\r\n\r\n  useEffect(() => {\r\n    firebase.db\r\n      .collection(\"users\")\r\n      .doc(props.user.uid)\r\n      .get()\r\n      .then((user_db: any) => {\r\n        setdata({ ...user_db.data().personal });\r\n        setLoading(false);\r\n        props.navigation.navigate(\"Home\");\r\n      })\r\n      .catch((e) => {\r\n        console.log(\"El error es \", e);\r\n      });\r\n  }, []);\r\n\r\n  const reauthenticate = (currentPassword) => {\r\n    var user: any = firebase.auth.currentUser;\r\n    var cred = firebase.firebase.auth.EmailAuthProvider.credential(\r\n      user.email,\r\n      currentPassword\r\n    );\r\n    return user.reauthenticateWithCredential(cred);\r\n  };\r\n\r\n  const update = async () => {\r\n    // primero se actualiza el correo\r\n    await reauthenticate(data.password)\r\n      .then(() => {\r\n        var user: any = firebase.auth.currentUser;\r\n        user\r\n          .updateEmail(data.email)\r\n          .then(() => {\r\n            Alert.alert(\"Correo actualizado\");\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    // Luego se actualiza la contraseña\r\n    if(data.newPassWord !== \"\"){\r\n       await reauthenticate(data.password)\r\n      .then(() => {\r\n        var user: any = firebase.auth.currentUser;\r\n        user\r\n          .updatePassword(data.newPassWord)\r\n          .then(() => {\r\n            Alert.alert(\"Contraseña Actualizada\");\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    }\r\n   \r\n    await firebase.db\r\n      .collection(\"users\")\r\n      .doc(props.user.uid)\r\n      .update({\r\n        personal: {\r\n          name: data.name,\r\n          phone: data.phone,\r\n          email: data.email,\r\n          genero: data.genero,\r\n          id: data.id,\r\n        },\r\n      })\r\n      .then((e) => {\r\n        Alert.alert(\"Datos personales del usuario actualizados\");\r\n\r\n        let newUser: any = firebase.auth.currentUser;\r\n        newUser[\"information\"][\"personal\"] = {\r\n          name: data.name,\r\n          phone: data.phone,\r\n          email: data.email,\r\n          id: data.id,\r\n        };\r\n        props.setUser(newUser);\r\n        props.props.navigation.navigate(\"Home\");\r\n      })\r\n      .catch((e) => {\r\n        console.log(\"El error es \", e);\r\n      });\r\n      setLoading(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return (<View style={{justifyContent:\"center\", marginTop:\"5%\"}}><ChargeScreen/></View>);\r\n  } else {\r\n    return (\r\n      <View style={styles.container}>\r\n        <View>\r\n          <View style={styles.containerInput}>\r\n            <Text style={styles.headerInput}>Nombre Completo</Text>\r\n            <TextInput\r\n              style={styles.input}\r\n              onChangeText={(value) => {\r\n                setdata({ ...data, name: value });\r\n              }}\r\n              value={data.name}\r\n              placeholder={\"Ingrese Nombres y Apellidos\"}\r\n            />\r\n          </View>\r\n\r\n          <View style={styles.containerInput}>\r\n            <Text style={styles.headerInput}>Documento de Identidad</Text>\r\n            <TextInput\r\n              style={styles.input}\r\n              onChangeText={(value) => {\r\n                setdata({ ...data, id: value });\r\n              }}\r\n              value={data.id}\r\n              keyboardType={\"number-pad\"}\r\n              placeholder={\"Tarjeta de Identidad o Cédula\"}\r\n            />\r\n          </View>\r\n\r\n          <View style={styles.containerInput}>\r\n            <Text style={styles.headerInput}>Teléfono</Text>\r\n            <TextInput\r\n              style={styles.input}\r\n              onChangeText={(value) => {\r\n                setdata({ ...data, phone: value });\r\n              }}\r\n              value={data.phone}\r\n              keyboardType={\"phone-pad\"}\r\n              placeholder={\"Número telefónico celular\"}\r\n            />\r\n          </View>\r\n\r\n          <View style={styles.containerInput}>\r\n            <Text style={styles.headerInput}>Correo Electrónico</Text>\r\n            <TextInput\r\n              style={styles.input}\r\n              onChangeText={(value) => {\r\n                setdata({ ...data, email: value });\r\n              }}\r\n              value={data.email}\r\n              keyboardType={\"email-address\"}\r\n              placeholder={\"Dirección de correo electrónico\"}\r\n            />\r\n          </View>\r\n\r\n          <View style={styles.containerInput}>\r\n            <Text style={styles.headerInput}>Género</Text>\r\n            <TextInput\r\n              onChangeText={(value) => {\r\n                setdata({ ...data, genero: value });\r\n              }}\r\n              style={styles.input}\r\n              value={data.genero}\r\n            />\r\n          </View>\r\n\r\n          <View style={styles.containerInput}>\r\n            <Text style={styles.headerInput}>Antigua Contraseña</Text>\r\n            <Password\r\n              label={\"Mínimo 8 caracteres\"}\r\n              onChange={(value) => {\r\n                setdata({ ...data, password: value });\r\n              }}\r\n              height={40}\r\n              width={\"100%\"}\r\n              value={data.password}\r\n            />\r\n          </View>\r\n\r\n          <View style={styles.containerInput}>\r\n            <Text style={styles.headerInput}> Nueva Contraseña</Text>\r\n            <Password\r\n              label={\"Mínimo 8 caracteres\"}\r\n              onChange={(value) => {\r\n                setdata({ ...data, newPassWord: value });\r\n              }}\r\n              height={40}\r\n              width={\"100%\"}\r\n              value={data.newPassWord}\r\n            />\r\n          </View>\r\n\r\n          <TouchableOpacity\r\n            style={styles.button}\r\n            onPress={() => {\r\n\r\n              schema\r\n                .validate(data)\r\n                .then(() => {\r\n                  setLoading(true);\r\n                  update();\r\n                })\r\n                .catch(function (err) {\r\n                  console.log(err);\r\n                });\r\n            }}\r\n          >\r\n            <Text style={{ color: \"white\" }}>Actualizar datos Personales</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst MapStateToProps = (store: MyTypes.ReducerState) => {\r\n  return {\r\n    user: store.User.user,\r\n  };\r\n};\r\n\r\nconst MapDispatchToProps = (dispatch: Dispatch, store: any) => ({\r\n  setUser: (val) => dispatch(actionsUser.SET_USER(val)),\r\n});\r\nexport default connect(MapStateToProps, MapDispatchToProps)(UpdatePersonalData);\r\n\r\nconst styles = StyleSheet.create({\r\n  header: {\r\n    height: \"10%\",\r\n    width: \"90%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginLeft: \"5%\",\r\n    marginRight: \"5%\",\r\n  },\r\n  textHeader: {\r\n    fontSize: vmin(5),\r\n  },\r\n\r\n  container: { backgroundColor: \"white\", width: \"100%\", height: \"100%\" },\r\n\r\n  containerInput: {\r\n    height: vmin(25),\r\n    width: \"90%\",\r\n    // backgroundColor: \"tomato\",\r\n    marginLeft: \"5%\",\r\n    marginRight: \"5%\",\r\n    marginBottom: \"2%\",\r\n    justifyContent: \"space-evenly\",\r\n  },\r\n\r\n  headerInput: {\r\n    width: \"100%\",\r\n    textAlign: \"left\",\r\n    fontSize: vmin(4),\r\n    fontWeight: \"bold\",\r\n    left: vmin(1.5),\r\n  },\r\n\r\n  input: {\r\n    height: \"60%\",\r\n    width: \"100%\",\r\n    borderColor: \"rgba(228, 228, 228, 0.6)\",\r\n    borderWidth: 1,\r\n    borderRadius: 5,\r\n  },\r\n\r\n  button: {\r\n    backgroundColor: \"#6979F8\",\r\n    width: \"90%\",\r\n    height: vmin(12),\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 5,\r\n    margin: \"5%\",\r\n    marginTop: vmin(10),\r\n    marginBottom: vmin(10),\r\n  },\r\n\r\n  scroll: {\r\n    height: \"90%\",\r\n    width: \"100%\",\r\n  },\r\n});\r\n\r\nconst navigationButtonStyles = StyleSheet.create({\r\n  containerNavigationButton: {\r\n    width: \"100%\",\r\n    flexDirection: \"row\",\r\n    height: \"80%\",\r\n    borderRadius: 10,\r\n    backgroundColor: \"rgba(105, 121, 248, 1)\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  sideButton: {\r\n    height: \"100%\",\r\n    width: \"15%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 10,\r\n  },\r\n\r\n  navigationButtonText: {\r\n    height: \"70%\",\r\n    width: \"70%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderColor: \"rgba(255, 255, 255, 0.3)\",\r\n    borderLeftWidth: vmin(0.5),\r\n    borderRightWidth: vmin(0.5),\r\n  },\r\n\r\n  whiteText: {\r\n    color: \"white\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}